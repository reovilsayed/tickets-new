import{a as f,r as i,j as e,H as v}from"./app-3e55b332.js";import{u as j,I as y,P as w}from"./useInfiniteFetch-ce9abc1b.js";import{f as E}from"./utils-8b9f25e8.js";import"./index-6c02bf95.js";function b(){var h,m;const d=f(s=>s.searchQuery.query),n=f(s=>s.filter.event),{data:t,isError:x,isLoading:g,isSuccess:N,isFetching:a,hasNextPage:c,fetchNextPage:l,refetch:P}=j(["extras-page",d,n],"https://events.essenciacompany.com/api/extras",{query:d,event_id:n==null?void 0:n.id}),r=i.useCallback(()=>{const s=document.documentElement.scrollTop;s<500&&s===0&&c&&!a&&l()},[l,c,a]);return i.useEffect(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[r]),e.jsx("div",{className:"overflow-y-scroll overflow-x-none pt-3",children:n?g?e.jsx("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(v,{color:"#36d7b7"})}):e.jsx(y,{loadMore:l,hasMore:c,loader:e.jsx("div",{style:{textAlign:"center",paddingTop:"25px"},children:e.jsx(w,{color:"#36d7b7"})}),useWindow:!1,style:{overflowY:"scroll",maxHeight:"90vh",padding:"20px 10px"},onScroll:r,children:e.jsx("div",{className:"row g-3",children:x?e.jsx("div",{style:{textAlign:"center",color:"red"},children:"Something went wrong"}):(h=t==null?void 0:t.pages)!=null&&h.length?(m=t==null?void 0:t.pages)==null?void 0:m.map((s,p)=>{var u;return e.jsx(i.Fragment,{children:(u=s==null?void 0:s.data)==null?void 0:u.map((o,S)=>{E(o!=null&&o.sale_price?o==null?void 0:o.sale_price:o==null?void 0:o.price)>0})},p)}):e.jsx("div",{style:{textAlign:"center"},children:"No matching products found."})})}):e.jsx("h4",{className:"text-info text-center",children:"Please Select An Event"})})}export{b as default};
