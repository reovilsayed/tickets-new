import{u as R,a as F,r as u,j as e,c as an,b as $,_ as ln,R as I,d as on,e as Q,o as cn,f as rn,g as dn,h as Ce,i as Ee,k as un,l as hn,B as mn,m as fn,n as pn,s as we}from"./app-0db28b59.js";import{L as xn,N as vn}from"./Essência-logo-f90202d4.js";import{v as Fe,f as jn,a as bn,c as Ae,b as ae,d as yn}from"./utils-8b9f25e8.js";import{c as D,u as q,a as K,I as gn,B as ke,F as Nn,P as Cn}from"./PhoneNumberInput-57caceaf.js";import"./index-40eab45f.js";function En(){var s,a,i,d;const n=R(),t=F(r=>r.itemInfoModal.item),l=F(r=>r.itemInfoModal.open),o=()=>{n(an())};return u.useEffect(()=>{const r=document.getElementById("productDetails");l?(r.classList.add("show","fade-in"),r.style.display="block"):(r.classList.remove("fade-in"),r.classList.add("fade-out"),setTimeout(()=>{r.style.display="none",r.classList.remove("show","fade-out")},300))},[l]),e.jsxs(e.Fragment,{children:[t&&l&&e.jsx("div",{className:"modal-backdrop fade-in"}),e.jsx("div",{className:`modal ${l?"fade-in":"fade-out"}`,id:"productDetails",tabIndex:"-1","aria-labelledby":"productDetailsLabel","aria-hidden":!l,onClick:o,children:e.jsx("div",{className:"modal-dialog modal-center modal-lg",onClick:r=>r.stopPropagation(),children:e.jsxs("div",{className:"modal-content event-details",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title text-center",id:"productDetailsLabel",children:t==null?void 0:t.name}),e.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o})]}),e.jsxs("div",{className:"modal-body row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("div",{className:"event_img text-center mb-3",children:e.jsx("img",{src:Fe(t==null?void 0:t.event_thumbnail),alt:t==null?void 0:t.name,className:"img-fluid"})}),e.jsxs("h4",{className:"events-title text-secondary text-left mb-2",children:[jn(t!=null&&t.sale_price?t==null?void 0:t.sale_price:t==null?void 0:t.price),"€"]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{className:"events-title text-left mb-4",children:(s=t==null?void 0:t.event)==null?void 0:s.name}),e.jsxs("div",{className:"accordins",children:[e.jsxs("div",{className:"accordin-item d-flex align-items-start mb-3",children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{className:"fa fa-calendar fa-2x"})}),e.jsxs("div",{children:[e.jsx("h5",{children:"Event time"}),e.jsx("h6",{children:bn(t==null?void 0:t.start_date,t.end_date)})]})]}),e.jsxs("div",{className:"accordin-item d-flex align-items-start mb-3",children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{class:"fas fa-map-marker-alt fa-2x"})}),e.jsxs("div",{children:[e.jsx("h5",{children:"Event at"}),e.jsx("h6",{children:(a=t==null?void 0:t.event)==null?void 0:a.location})]})]}),e.jsx("div",{className:"accordin-item d-flex align-items-start mb-3",children:t!=null&&t.quantity?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{className:"fa fa-weight fa-2x"})}),e.jsxs("div",{children:[e.jsx("h5",{children:"Quantity"}),e.jsx("h6",{children:(t==null?void 0:t.quantity)??0})]})]}):e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("h5",{children:"No available tickets"})})})}),e.jsxs("div",{className:"accordin-item d-flex align-items-start mb-3",children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{className:"fa fa-info-circle fa-2x"})}),e.jsxs("div",{children:[e.jsx("h5",{children:"Description"}),e.jsx("h6",{dangerouslySetInnerHTML:{__html:(t==null?void 0:t.description)||""}})]})]}),e.jsxs("div",{className:"accordin-item d-flex align-items-start mb-3",children:[e.jsx("div",{className:"me-3",children:e.jsx("i",{class:"fas fa-cocktail fa-2x"})}),e.jsxs("div",{className:"w-100",children:[e.jsx("h5",{children:(i=t==null?void 0:t.extras)!=null&&i.length?"Extras":"No extras"}),(d=t==null?void 0:t.extras)!=null&&d.length?e.jsx("ul",{className:"list-group",children:t.extras.map((r,p)=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[r.display_name,e.jsx("span",{className:"badge badge-primary bg-primary badge-pill",children:r.quantity})]},p))}):""]})]})]})]})]})]})})})]})}function wn({onClick:n}){const{totalUniqueItems:t}=$();return e.jsx("div",{onClick:n,children:e.jsxs("button",{type:"button",className:"btn btn-dark btn-lg position-fixed",style:{bottom:"20px",right:"20px",zIndex:100},"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample","aria-controls":"offcanvasExample",children:[e.jsx("i",{className:"fa fa-shopping-bag"}),e.jsxs("sup",{children:[" ",t||0]})]})})}function _e(n,t){if(n==null)return{};var l={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(t.includes(o))continue;l[o]=n[o]}return l}function Se(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function kn(n){var t=Sn(n,"string");return typeof t=="symbol"?t:String(t)}function Sn(n,t){if(typeof n!="object"||n===null)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var o=l.call(n,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Tn(n,t,l){var o=u.useRef(n!==void 0),s=u.useState(t),a=s[0],i=s[1],d=n!==void 0,r=o.current;return o.current=d,!d&&r&&a!==t&&i(t),[d?n:a,u.useCallback(function(p){for(var m=arguments.length,c=new Array(m>1?m-1:0),j=1;j<m;j++)c[j-1]=arguments[j];l&&l.apply(void 0,[p].concat(c)),i(p)},[l])]}function Mn(n,t){return Object.keys(t).reduce(function(l,o){var s,a=l,i=a[Se(o)],d=a[o],r=_e(a,[Se(o),o].map(kn)),p=t[o],m=Tn(d,i,n[p]),c=m[0],j=m[1];return ln({},r,(s={},s[o]=c,s[p]=j,s))},n)}function In(n){return n&&n.ownerDocument||document}function Fn(n){var t=In(n);return t&&t.defaultView||window}function An(n,t){return Fn(n).getComputedStyle(n,t)}var _n=/([A-Z])/g;function Pn(n){return n.replace(_n,"-$1").toLowerCase()}var Ln=/^ms-/;function X(n){return Pn(n).replace(Ln,"-ms-")}var Rn=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function $n(n){return!!(n&&Rn.test(n))}function Y(n,t){var l="",o="";if(typeof t=="string")return n.style.getPropertyValue(X(t))||An(n).getPropertyValue(X(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?n.style.removeProperty(X(s)):$n(s)?o+=s+"("+a+") ":l+=X(s)+": "+a+";"}),o&&(l+="transform: "+o+";"),n.style.cssText+=";"+l}const Te={disabled:!1},Pe=I.createContext(null);var Dn=function(t){return t.scrollTop},U="unmounted",_="exited",P="entering",L="entered",Z="exiting",A=function(n){on(t,n);function t(o,s){var a;a=n.call(this,o,s)||this;var i=s,d=i&&!i.isMounting?o.enter:o.appear,r;return a.appearStatus=null,o.in?d?(r=_,a.appearStatus=P):r=L:o.unmountOnExit||o.mountOnEnter?r=U:r=_,a.state={status:r},a.nextCallback=null,a}t.getDerivedStateFromProps=function(s,a){var i=s.in;return i&&a.status===U?{status:_}:null};var l=t.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(s){var a=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==P&&i!==L&&(a=P):(i===P||i===L)&&(a=Z)}this.updateStatus(!1,a)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var s=this.props.timeout,a,i,d;return a=i=d=s,s!=null&&typeof s!="number"&&(a=s.exit,i=s.enter,d=s.appear!==void 0?s.appear:i),{exit:a,enter:i,appear:d}},l.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===P){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Q.findDOMNode(this);i&&Dn(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_&&this.setState({status:U})},l.performEnter=function(s){var a=this,i=this.props.enter,d=this.context?this.context.isMounting:s,r=this.props.nodeRef?[d]:[Q.findDOMNode(this),d],p=r[0],m=r[1],c=this.getTimeouts(),j=d?c.appear:c.enter;if(!s&&!i||Te.disabled){this.safeSetState({status:L},function(){a.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:P},function(){a.props.onEntering(p,m),a.onTransitionEnd(j,function(){a.safeSetState({status:L},function(){a.props.onEntered(p,m)})})})},l.performExit=function(){var s=this,a=this.props.exit,i=this.getTimeouts(),d=this.props.nodeRef?void 0:Q.findDOMNode(this);if(!a||Te.disabled){this.safeSetState({status:_},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Z},function(){s.props.onExiting(d),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:_},function(){s.props.onExited(d)})})})},l.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},l.setNextCallback=function(s){var a=this,i=!0;return this.nextCallback=function(d){i&&(i=!1,a.nextCallback=null,s(d))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},l.onTransitionEnd=function(s,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:Q.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!i||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],p=r[0],m=r[1];this.props.addEndListener(p,m)}s!=null&&setTimeout(this.nextCallback,s)},l.render=function(){var s=this.state.status;if(s===U)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=_e(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return I.createElement(Pe.Provider,{value:null},typeof i=="function"?i(s,d):I.cloneElement(I.Children.only(i),d))},t}(I.Component);A.contextType=Pe;A.propTypes={};function O(){}A.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:O,onEntering:O,onEntered:O,onExit:O,onExiting:O,onExited:O};A.UNMOUNTED=U;A.EXITED=_;A.ENTERING=P;A.ENTERED=L;A.EXITING=Z;const On=A,qn=!!(typeof window<"u"&&window.document&&window.document.createElement);var te=!1,se=!1;try{var ne={get passive(){return te=!0},get once(){return se=te=!0}};qn&&(window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,!0))}catch{}function Bn(n,t,l,o){if(o&&typeof o!="boolean"&&!se){var s=o.once,a=o.capture,i=l;!se&&s&&(i=l.__once||function d(r){this.removeEventListener(t,d,a),l.call(this,r)},l.__once=i),n.addEventListener(t,i,te?o:a)}n.addEventListener(t,l,o)}function Qn(n,t,l,o){var s=o&&typeof o!="boolean"?o.capture:o;n.removeEventListener(t,l,s),l.__once&&n.removeEventListener(t,l.__once,s)}function Le(n,t,l,o){return Bn(n,t,l,o),function(){Qn(n,t,l,o)}}function Un(n,t,l,o){if(l===void 0&&(l=!1),o===void 0&&(o=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(t,l,o),n.dispatchEvent(s)}}function zn(n){var t=Y(n,"transitionDuration")||"",l=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*l}function Wn(n,t,l){l===void 0&&(l=5);var o=!1,s=setTimeout(function(){o||Un(n,"transitionend",!0)},t+l),a=Le(n,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(s),a()}}function Hn(n,t,l,o){l==null&&(l=zn(n)||0);var s=Wn(n,l,o),a=Le(n,"transitionend",t);return function(){s(),a()}}function Me(n,t){const l=Y(n,t)||"",o=l.indexOf("ms")===-1?1e3:1;return parseFloat(l)*o}function Gn(n,t){const l=Me(n,"transitionDuration"),o=Me(n,"transitionDelay"),s=Hn(n,a=>{a.target===n&&(s(),t(a))},l+o)}function B(...n){return n.filter(t=>t!=null).reduce((t,l)=>{if(typeof l!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?l:function(...s){t.apply(this,s),l.apply(this,s)}},null)}function Xn(n){n.offsetHeight}const Ie=n=>!n||typeof n=="function"?n:t=>{n.current=t};function Vn(n,t){const l=Ie(n),o=Ie(t);return s=>{l&&l(s),o&&o(s)}}function Kn(n,t){return u.useMemo(()=>Vn(n,t),[n,t])}function Yn(n){return n&&"setState"in n?Q.findDOMNode(n):n??null}const Zn=I.forwardRef(({onEnter:n,onEntering:t,onEntered:l,onExit:o,onExiting:s,onExited:a,addEndListener:i,children:d,childRef:r,...p},m)=>{const c=u.useRef(null),j=Kn(c,r),h=g=>{j(Yn(g))},x=g=>M=>{g&&c.current&&g(c.current,M)},k=u.useCallback(x(n),[n]),y=u.useCallback(x(t),[t]),S=u.useCallback(x(l),[l]),f=u.useCallback(x(o),[o]),C=u.useCallback(x(s),[s]),E=u.useCallback(x(a),[a]),T=u.useCallback(x(i),[i]);return e.jsx(On,{ref:m,...p,onEnter:k,onEntered:S,onEntering:y,onExit:f,onExited:E,onExiting:C,addEndListener:T,nodeRef:c,children:typeof d=="function"?(g,M)=>d(g,{...M,ref:h}):I.cloneElement(d,{ref:h})})}),Jn=Zn,et={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function nt(n,t){const l=`offset${n[0].toUpperCase()}${n.slice(1)}`,o=t[l],s=et[n];return o+parseInt(Y(t,s[0]),10)+parseInt(Y(t,s[1]),10)}const tt={[_]:"collapse",[Z]:"collapsing",[P]:"collapsing",[L]:"collapse show"},st=I.forwardRef(({onEnter:n,onEntering:t,onEntered:l,onExit:o,onExiting:s,className:a,children:i,dimension:d="height",in:r=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:c=!1,appear:j=!1,getDimensionValue:h=nt,...x},k)=>{const y=typeof d=="function"?d():d,S=u.useMemo(()=>B(g=>{g.style[y]="0"},n),[y,n]),f=u.useMemo(()=>B(g=>{const M=`scroll${y[0].toUpperCase()}${y.slice(1)}`;g.style[y]=`${g[M]}px`},t),[y,t]),C=u.useMemo(()=>B(g=>{g.style[y]=null},l),[y,l]),E=u.useMemo(()=>B(g=>{g.style[y]=`${h(y,g)}px`,Xn(g)},o),[o,h,y]),T=u.useMemo(()=>B(g=>{g.style[y]=null},s),[y,s]);return e.jsx(Jn,{ref:k,addEndListener:Gn,...x,"aria-expanded":x.role?r:null,onEnter:S,onEntering:f,onEntered:C,onExit:E,onExiting:T,childRef:i.ref,in:r,timeout:p,mountOnEnter:m,unmountOnExit:c,appear:j,children:(g,M)=>I.cloneElement(i,{...M,className:D(a,i.props.className,tt[g],y==="width"&&"collapse-horizontal")})})}),at=st;function Re(n,t){return Array.isArray(n)?n.includes(t):n===t}const $e=u.createContext({});$e.displayName="AccordionContext";const J=$e,De=u.forwardRef(({as:n="div",bsPrefix:t,className:l,children:o,eventKey:s,...a},i)=>{const{activeEventKey:d}=u.useContext(J);return t=q(t,"accordion-collapse"),e.jsx(at,{ref:i,in:Re(d,s),...a,className:D(l,t),children:e.jsx(n,{children:u.Children.only(o)})})});De.displayName="AccordionCollapse";const Oe=De,qe=u.createContext({eventKey:""});qe.displayName="AccordionItemContext";const le=qe,Be=u.forwardRef(({as:n="div",bsPrefix:t,className:l,onEnter:o,onEntering:s,onEntered:a,onExit:i,onExiting:d,onExited:r,...p},m)=>{t=q(t,"accordion-body");const{eventKey:c}=u.useContext(le);return e.jsx(Oe,{eventKey:c,onEnter:o,onEntering:s,onEntered:a,onExit:i,onExiting:d,onExited:r,children:e.jsx(n,{ref:m,...p,className:D(l,t)})})});Be.displayName="AccordionBody";const lt=Be;function ot(n,t){const{activeEventKey:l,onSelect:o,alwaysOpen:s}=u.useContext(J);return a=>{let i=n===l?null:n;s&&(Array.isArray(l)?l.includes(n)?i=l.filter(d=>d!==n):i=[...l,n]:i=[n]),o==null||o(i,a),t==null||t(a)}}const Qe=u.forwardRef(({as:n="button",bsPrefix:t,className:l,onClick:o,...s},a)=>{t=q(t,"accordion-button");const{eventKey:i}=u.useContext(le),d=ot(i,o),{activeEventKey:r}=u.useContext(J);return n==="button"&&(s.type="button"),e.jsx(n,{ref:a,onClick:d,...s,"aria-expanded":Array.isArray(r)?r.includes(i):i===r,className:D(l,t,!Re(r,i)&&"collapsed")})});Qe.displayName="AccordionButton";const Ue=Qe,ze=u.forwardRef(({as:n="h2",bsPrefix:t,className:l,children:o,onClick:s,...a},i)=>(t=q(t,"accordion-header"),e.jsx(n,{ref:i,...a,className:D(l,t),children:e.jsx(Ue,{onClick:s,children:o})})));ze.displayName="AccordionHeader";const it=ze,We=u.forwardRef(({as:n="div",bsPrefix:t,className:l,eventKey:o,...s},a)=>{t=q(t,"accordion-item");const i=u.useMemo(()=>({eventKey:o}),[o]);return e.jsx(le.Provider,{value:i,children:e.jsx(n,{ref:a,...s,className:D(l,t)})})});We.displayName="AccordionItem";const ct=We,He=u.forwardRef((n,t)=>{const{as:l="div",activeKey:o,bsPrefix:s,className:a,onSelect:i,flush:d,alwaysOpen:r,...p}=Mn(n,{activeKey:"onSelect"}),m=q(s,"accordion"),c=u.useMemo(()=>({activeEventKey:o,onSelect:i,alwaysOpen:r}),[o,i,r]);return e.jsx(J.Provider,{value:c,children:e.jsx(l,{ref:t,...p,className:D(a,m,d&&`${m}-flush`)})})});He.displayName="Accordion";const V=Object.assign(He,{Button:Ue,Collapse:Oe,Item:ct,Header:it,Body:lt});function rt({item:n}){var m;const t=R(),{updateItem:l,updateItemQuantity:o,removeItem:s}=$(),a=c=>o(n==null?void 0:n.id,(n==null?void 0:n.quantity)+c),i=()=>s(n==null?void 0:n.id),d=(c,j)=>{if(!(!c||j<(c==null?void 0:c.quantity))){var h=n;j>0?h.extras=h==null?void 0:h.extras.map(x=>(x==null?void 0:x.id)===(c==null?void 0:c.id)?{...x,newQuantity:j}:x):h.extras=h==null?void 0:h.extras.filter(x=>(x==null?void 0:x.id)!==(c==null?void 0:c.id)),l(n==null?void 0:n.id,h)}},r=()=>{t(cn(n))},p=u.useMemo(()=>n!=null&&n.isTicket?Ae(n==null?void 0:n.extras)??0:0,[n]);return e.jsxs("div",{className:"cart-item row w-100",children:[e.jsx("div",{className:"col-md-2 col-3",children:e.jsx("img",{src:Fe(n==null?void 0:n.event_thumbnail),className:"cart-item-image"})}),e.jsxs("div",{className:"col-md-10 col-9",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("h6",{className:"cart-item-name m-0",children:[e.jsx("small",{children:(n==null?void 0:n.name)||"Product Name"}),e.jsx("br",{})]}),e.jsx("button",{onClick:i,className:"btn btn-danger btn-sm",children:e.jsx("i",{className:"fa fa-trash"})})]}),e.jsxs("p",{className:"cart-item-info",children:[e.jsx("span",{children:(n==null?void 0:n.price)||0})," X ",e.jsx("span",{children:(n==null?void 0:n.quantity)||1})," = ",e.jsx("span",{children:((n==null?void 0:n.quantity)||1)*((n==null?void 0:n.price)||0)})," €"]}),(n==null?void 0:n.isTicket)&&e.jsxs("p",{className:"cart-item-info",children:[e.jsx("span",{children:"Extras"})," = ",e.jsx("span",{children:p})," €"]}),e.jsxs("div",{className:"cart-item-controls mt-2 d-flex justify-content-between",children:[e.jsxs("div",{className:"control-buttons-group",children:[e.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>a(-10),children:"-10"}),e.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>a(-5),children:"-5"}),e.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>a(-1),children:"-"})]}),e.jsx("p",{className:"item-quantity h6 d-flex justify-content-center align-items-center",children:(n==null?void 0:n.quantity)||1}),e.jsxs("div",{className:"control-buttons-group",children:[e.jsx("button",{className:"btn btn-outline-dark btn-sm",onClick:()=>a(1),children:"+"}),e.jsx("button",{className:"btn btn-outline-dark btn-sm",onClick:()=>a(5),children:"+5"}),e.jsx("button",{className:"btn btn-outline-dark btn-sm",onClick:()=>a(10),children:"+10"})]})]}),n!=null&&n.isTicket&&((m=n==null?void 0:n.extras)!=null&&m.length)?e.jsx(V,{className:"py-1 mt-2",children:e.jsxs(V.Item,{eventKey:"0",children:[e.jsx(V.Header,{children:"Extras"}),e.jsxs(V.Body,{children:[n.extras.map((c,j)=>e.jsxs("span",{className:"d-flex justify-content-between align-items-center",children:[c.display_name,e.jsxs("div",{className:"update-quantity d-flex align-items-center justify-content-center",children:[e.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>d(c,((c==null?void 0:c.newQuantity)??(c==null?void 0:c.quantity))-1),children:"-"}),e.jsx("input",{type:"number",value:(c==null?void 0:c.newQuantity)??(c==null?void 0:c.quantity)??0,onChange:h=>d(c,h.target.value),className:"form-control text-center mx-2 border-0",style:{width:"40px"}}),e.jsx("button",{className:"btn btn-outline-dark btn-sm",onClick:()=>d(c,((c==null?void 0:c.newQuantity)??(c==null?void 0:c.quantity))+1),children:"+"})]})]},j)),e.jsx("span",{className:"d-flex justify-content-center align-items-center mt-2",children:e.jsx("button",{type:"button",class:"btn btn-info text-light w-100 py-1",onClick:r,children:"Add extra"})})]})]})}):""]})]})}function dt({open:n,onClose:t}){const{items:l,cartTotal:o,emptyCart:s}=$(),a=()=>{s(),t()},i=R(),d=()=>i(rn()),r=u.useMemo(()=>ae(l),[l]),p=u.useMemo(()=>o+r,[o,r]);return n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"cart-modal-backdrop cart-fade-in",onClick:t}),e.jsxs("div",{className:`cart-modal ${n?"cart-fade-in":"cart-fade-out"}`,tabIndex:"-1",id:"offcanvasExample","aria-labelledby":"offcanvasExampleLabel","aria-hidden":!n,onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"offcanvas-header",children:[e.jsx("h5",{className:"offcanvas-title",id:"offcanvasExampleLabel",children:"Cart"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:t})]}),e.jsxs("div",{className:"offcanvas-body",children:[e.jsx("div",{className:"cart-items",children:l==null?void 0:l.map((m,c)=>e.jsx(rt,{item:m},c))}),e.jsxs("div",{className:"footer_body_modal card bg-light",children:[e.jsx("table",{className:"table table-hover table-bordered",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Sub Total:"}),e.jsxs("td",{children:[o," €"]})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Extras:"}),e.jsxs("td",{children:[r," €"]})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Total:"}),e.jsxs("td",{children:[p," €"]})]})]})}),e.jsxs("div",{className:"d-flex gap-1 justify-content-end",children:[e.jsxs("button",{className:"btn btn-danger",onClick:a,children:[e.jsx("i",{class:"fas fa-redo me-2"}),"Reset"]}),e.jsxs("button",{className:"btn btn-success",onClick:d,children:[e.jsx("i",{class:"fas fa-money-bill-wave me-2"}),"Pay Now"]})]})]})]})]})]}):""}function ut(){var c,j;const{emptyCart:n}=$(),t=R(),{data:l}=K(["filter-events"],"/api/events"),o=F(h=>h.filter.event),s=F(h=>h.filter.date),[a,i]=u.useState(o),[d,r]=u.useState(s),p=h=>{var y;var x=confirm("The cart will reset upon changing event");if(!x)return;n();const k=(y=l==null?void 0:l.data)==null?void 0:y.find(S=>S.id===parseInt(h.target.value,10));t(dn(k)),t(Ce("")),i(k),r("")},m=h=>{const x=h.target.value;t(Ce(x)),r(x)};return e.jsxs("div",{className:"form-control fixed row my-2 gx-2 shadow-sm left-0 right-0 padding-0 d-flex flex-row align-items-center",tabIndex:"-1",id:"offcanvasBottom","aria-labelledby":"offcanvasBottomLabel",onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{className:"d-flex flex-row align-items-center col-md-6",children:[e.jsx("label",{htmlFor:"eventsSelect",children:"Events"}),e.jsx("div",{className:"filter-select-group w-100",children:e.jsx("div",{className:"form-floating row row-cols-1 row-cols-md-1",children:e.jsxs("select",{className:"form-select p-2",style:{fontSize:"0.8rem",height:"fit-content"},id:"eventsSelect","aria-label":"Events",value:(a==null?void 0:a.id)||"",onChange:p,children:[e.jsx("option",{value:"",children:"None"}),(c=l==null?void 0:l.data)==null?void 0:c.map(h=>e.jsx("option",{value:h.id,children:(h==null?void 0:h.name)??"N/A"},h.id))]})})})]}),a&&e.jsxs("div",{className:"d-flex flex-row align-items-center col-md-6",children:[e.jsx("label",{htmlFor:"datesSelect",children:"Dates"}),e.jsx("div",{className:"filter-select-group w-100 filter-fade-in",children:e.jsx("div",{className:"form-floating row row-cols-1 row-cols-md-1",children:e.jsxs("select",{className:"form-select p-2",style:{fontSize:"0.8rem",height:"fit-content"},id:"datesSelect","aria-label":"Dates",value:d||"",onChange:m,children:[e.jsx("option",{value:"",children:"All"}),(j=a==null?void 0:a.dates)==null?void 0:j.map((h,x)=>e.jsx("option",{value:h,children:yn(h)??"N/A"},x))]})})})]})]})}function ht(){var S;const n=R(),t=F(f=>f.addExtraModal.item),l=F(f=>f.addExtraModal.open),{updateItem:o}=$(),[s,a]=u.useState(null),[i,d]=u.useState(1),r=f=>{d(C=>f>0?f:C)},p=()=>{n(Ee())},m=()=>{if(!(!t||!s)){var f=[...t.extras],C=!0;f=f.map(E=>E.id===s.id?(C=!1,{...E,newQuantity:E.quantity+i}):E),C&&(f=[...f,{...s,newQuantity:i}]),o(t==null?void 0:t.id,{...t,extras:[...f]}),a(null),d(1),n(Ee())}},{data:c,isError:j,isLoading:h,isSuccess:x,refetch:k}=K(["extras"],"https://events.essenciacompany.com/api/extras");u.useEffect(()=>{const f=document.getElementById("addExtraModal");l?(f.classList.add("show","fade-in"),f.style.display="block"):(f.classList.remove("fade-in"),f.classList.add("fade-out"),setTimeout(()=>{f.style.display="none",f.classList.remove("show","fade-out")},300))},[l]);const y=f=>{var E;const C=(E=c==null?void 0:c.data)==null?void 0:E.find(T=>T.id===parseInt(f.target.value,10));a(C)};return e.jsxs(e.Fragment,{children:[l&&e.jsx("div",{className:"add-extra-modal-backdrop fade-in"}),e.jsx("div",{className:`modal ${l?"fade-in":"fade-out"}`,id:"addExtraModal",tabIndex:"-1","aria-labelledby":"addExtraModalLabel","aria-hidden":!l,onClick:p,children:e.jsx("div",{className:"modal-dialog modal-center modal-lg",onClick:f=>f.stopPropagation(),children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title text-center",id:"addExtraModalLabel",children:["Add Extra to ",(t==null?void 0:t.name)??"Ticket"," ",s&&i>0&&`with an additional ${parseFloat((s==null?void 0:s.price)*i).toFixed(2)}`]}),e.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:p})]}),e.jsx("div",{className:"modal-body row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"extraSelect",children:"Select Extra"}),e.jsxs("select",{id:"extraSelect",className:"form-control mt-2",value:(s==null?void 0:s.display_name)??"Select an extra",onChange:y,children:[e.jsx("option",{value:null,children:"None"}),(S=c==null?void 0:c.data)==null?void 0:S.map((f,C)=>e.jsx("option",{value:f==null?void 0:f.id,children:f==null?void 0:f.display_name},C))]})]}),s?e.jsxs("div",{className:"form-group mt-3 d-flex flex-column justify-content-center align-items-center",children:[e.jsx("label",{htmlFor:"quantity",children:"Quantity"}),e.jsxs(gn,{className:"mt-3 w-25",children:[e.jsx(ke,{variant:"outline-secondary",onClick:()=>r(i-1),children:"-"}),e.jsx(Nn.Control,{"aria-label":"Example text with two button addons",className:"text-center",value:i,onChange:f=>r(f.target.value)}),e.jsx(ke,{variant:"outline-danger",onClick:()=>r(i+1),children:"+"})]})]}):""]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:m,disabled:!s||i<1,children:"Add Extra"})]})]})})})]})}function mt({item:n}){var o;const t=u.useMemo(()=>Ae(n==null?void 0:n.extras)??0,n),l=u.useCallback(s=>s!=null&&s.newQuantity&&(s!=null&&s.quantity)?((s==null?void 0:s.newQuantity)-(s==null?void 0:s.quantity))*(s==null?void 0:s.price):s!=null&&s.newQuantity?(s==null?void 0:s.newQuantity)*(s==null?void 0:s.price):0,[n]);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"table-info",children:[e.jsx("td",{children:n==null?void 0:n.name}),e.jsxs("td",{children:[n==null?void 0:n.price," €"]}),e.jsx("td",{children:n==null?void 0:n.quantity}),(n==null?void 0:n.isTicket)&&e.jsxs(e.Fragment,{children:[e.jsxs("td",{children:[n==null?void 0:n.itemTotal," €"]}),e.jsxs("td",{children:[t," €"]})]}),e.jsxs("td",{className:"text-end",colSpan:n!=null&&n.isTicket?1:3,children:[n==null?void 0:n.itemTotal," €"]})]}),(n==null?void 0:n.isTicket)&&((o=n==null?void 0:n.extras)==null?void 0:o.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:s==null?void 0:s.display_name}),e.jsxs("td",{children:[s==null?void 0:s.price," €"]}),e.jsxs("td",{children:[(s==null?void 0:s.quantity)??0," ",((s==null?void 0:s.newQuantity)??0)-((s==null?void 0:s.quantity)??0)>0?`+ ${(s==null?void 0:s.newQuantity)-((s==null?void 0:s.quantity)??0)}`:""]}),e.jsxs("td",{colSpan:3,className:"text-end",children:[l(s)," €"]})]},a)))]})}function ft({discount:n=0}){const{items:t,cartTotal:l}=$(),o=u.useMemo(()=>ae(t),[t]),s=u.useMemo(()=>l+o-n,[l,o,n]);return e.jsxs("div",{className:"h-100 d-flex flex-column justify-content-start",children:[e.jsx("h5",{className:"modal-title text-start mb-2",id:"paymentModalLabel",children:"Cart Information"}),e.jsx("div",{className:"cart-info-items-container",children:e.jsx("div",{className:"card",children:e.jsxs("table",{className:"table mb-0 rounded",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Item"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Subtotal"}),e.jsx("th",{children:"Extras"}),e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{children:t==null?void 0:t.map((a,i)=>e.jsx(mt,{item:a},i))})]})})}),e.jsx("div",{className:"card mt-auto",children:e.jsx("table",{className:"table mb-0",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Subtotal"}),e.jsxs("td",{children:[l," €"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Extras"}),e.jsxs("td",{children:[o," €"]})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Total"}),e.jsxs("td",{children:[s," €"]})]})]})})})]})}const pt=({open:n})=>{const{items:t,cartTotal:l,isEmpty:o,emptyCart:s}=$(),[a,i]=u.useState({name:"",email:"",vatNumber:"",discount:0,paymentMethod:"Cash"}),d=v=>{const{name:N,value:b}=v.target;i(G=>({...G,[N]:b}))},[r,p]=u.useState(!0),[m,c]=u.useState(!1),[j,h]=u.useState(!1),[x,k]=u.useState(!1),[y,S]=u.useState(!1),[f,C]=u.useState(!1),E=u.useMemo(()=>ae(t),[t]),T=u.useMemo(()=>l+E-parseFloat(a.discount),[l,E,a]),[g,M]=u.useState(0),Ge=u.useMemo(()=>g>T?parseFloat(g-T):0,[T,g]),[oe,ie]=u.useState(!1),{data:z}=K(["withdraw_checked"],"https://events.essenciacompany.com/api/withdraw_checked"),{data:ee}=K(["settings-data"],"https://events.essenciacompany.com/api/settings");u.useEffect(()=>{h(z==null?void 0:z.checked)},[z]),u.useEffect(()=>{const v=document.getElementById("paymentModal");n?(v.classList.add("show","fade-in"),v.style.display="block"):(v.classList.remove("fade-in"),v.classList.add("fade-out"),setTimeout(()=>{v.style.display="none",v.classList.remove("show","fade-out")},300))},[n]);const Xe=R(),W=()=>Xe(hn()),Ve=un(),H=F(v=>v.filter.event),Ke=async()=>{var G,ce,re,de,ue,he,me,fe,pe,xe,ve,je,be,ye,ge;if(!(H!=null&&H.id)){mn("No event was selected!");return}ie(!0);const v={event_id:H.id,biling:a,tickets:t.filter(w=>w.isTicket),extras:t.filter(w=>!w.isTicket),discount:a.discount,paymentMethod:a.paymentMethod,subTotal:l,total:l,sendToMail:m,sendToPhone:r,withdraw:j,physicalQr:x,printInvoice:f,sendInvoiceToMail:y},N=await fn.post("https://events.essenciacompany.com/api/create-order",v,{headers:{"Content-Type":"application/json","X-Secret-Key":"pos_password"}});if(N.status==200){if(i({name:"",email:"",phone:"",vatNumber:"",discount:0,paymentMethod:"Cash"}),f&&((G=N==null?void 0:N.data)!=null&&G.invoice_url)&&(window.open((ce=N==null?void 0:N.data)==null?void 0:ce.invoice_url,"_blank"),C(!1)),x&&(Ve(`/pos/physical-qr?tickets=${(ue=(de=(re=N==null?void 0:N.data)==null?void 0:re.tickets)==null?void 0:de.map(w=>w==null?void 0:w.id))==null?void 0:ue.join(",")}`),k(!1)),window.location.pathname==="/pos/extras"&&(ee==null?void 0:ee.can_print)=="1"){var b=(he=N==null?void 0:N.data)==null?void 0:he.order;const w=window.open("","_blank");w.document.open(),w.document.write(`
                    <html>
                        <head>
                            <title>Print</title>
                            <style>
                                body {
                                    margin: 0;
                                    padding: 0;
                                    font-family: "Courier New", monospace;
                                    font-size: 10pt;
                                    line-height: 1.3;
                                }

                                .receipt {
                                    width: 100%;
                                    font-family: monospace;
                                }

                                table {
                                    width: 100%;
                                    border-collapse: collapse;
                                }

                                th,
                                td {
                                    text-align: left;
                                    padding: 2px 0;
                                    font-size: 10pt;
                                    white-space: nowrap;
                                }

                                hr {
                                    border: none;
                                    border-top: 1px dashed #000;
                                    margin: 4px 0;
                                }

                                .center {
                                    text-align: center;
                                }

                                .right {
                                    text-align: right;
                                }

                                .bold {
                                    font-weight: bold;
                                }

                                #printableArea {
                                    width: 3in;
                                    height: 5in;
                                    background-color: red; /* For debugging layout */
                                }

                                @media print {
                                    @page {
                                        size: 3in 5in;
                                        margin: 0;
                                    }

                                    body {
                                        margin: 0;
                                        padding: 0.2in;
                                    }
                                }
                            </style>
                        </head>
                        <body>
                            ${(fe=(me=b==null?void 0:b.pos_user)==null?void 0:me.pos)!=null&&fe.name?`<div
                                                    style={{ margin: "10px 0", padding: 0 }}
                                                >
                                                    POS NAME: ${((xe=(pe=b==null?void 0:b.pos_user)==null?void 0:pe.pos)==null?void 0:xe.name)||""}
                                                </div>`:""}
                            ${(ve=b==null?void 0:b.billing)!=null&&ve.name?`<div
                                    style={{ margin: "10px 0", padding: 0 }}
                                >
                                    USER NAME: ${((je=b==null?void 0:b.billing)==null?void 0:je.name)||""}
                                </div>`:""}
                            ${(be=b==null?void 0:b.billing)!=null&&be.phone?`<div
                                    style={{ margin: "10px 0", padding: 0 }}
                                >
                                    USER PHONE: ${((ye=b==null?void 0:b.billing)==null?void 0:ye.phone)||""}
                                </div>`:""}
                            <hr
                                style={{
                                    border: "none",
                                    borderTop: "1px dashed #000",
                                    margin: "4px 0",
                                }}
                            />
                            <div
                                style={{
                                    fontWeight: "bold",
                                    margin: 0,
                                    padding: 0,
                                }}
                            >
                                Order details
                            </div>
                            <div style={{ margin: 0, padding: 0 }}>
                                Order id: ${b==null?void 0:b.id}
                            </div>
                            <hr
                                style={{
                                    border: "none",
                                    borderTop: "1px dashed #000",
                                    margin: "4px 0",
                                }}
                            />
                            <table
                                style={{
                                    width: "100%",
                                    borderCollapse: "collapse",
                                    margin: 0,
                                    padding: 0,
                                }}
                            >
                                <thead>
                                    <tr>
                                        <th
                                            style={{
                                                textAlign: "center",
                                                padding: "2px 0",
                                                fontSize: "10pt",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                            }}
                                        >
                                            Name
                                        </th>
                                        <th
                                            style={{
                                                textAlign: "left",
                                                padding: "2px 0",
                                                fontSize: "10pt",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                            }}
                                        >
                                            Qty
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${(ge=b==null?void 0:b.items)==null?void 0:ge.map((Ne,sn)=>`<tr key=${sn}>
                                            <td
                                                style={{
                                                    textAlign: "left",
                                                    padding: "2px 0",
                                                    fontSize: "10pt",
                                                    whiteSpace: "nowrap",
                                                }}
                                            >
                                                ${Ne.name}
                                            </td>
                                            <td
                                                style={{
                                                    textAlign: "left",
                                                    padding: "2px 0",
                                                    fontSize: "10pt",
                                                    whiteSpace: "nowrap",
                                                }}
                                            >
                                                ${Ne.qty}
                                            </td>
                                        </tr>`)}
                                </tbody>
                            </table>
                            <hr
                                style={{
                                    border: "none",
                                    borderTop: "1px dashed #000",
                                    margin: "4px 0",
                                }}
                            />
                            <div
                                style={{
                                    textAlign: "right",
                                    fontWeight: "bold",
                                    margin: 0,
                                    padding: 0,
                                }}
                            >
                                Total: ${b==null?void 0:b.total}€
                            </div>
                        </body>
                    </html>
                `),w.document.close(),setTimeout(()=>{w.focus(),w.print()},500)}c(!0),p(!1),S(!1),s(""),W()}ie(!1)},Ye=()=>{c(v=>v?!1:(k(!1),!0))},Ze=()=>{p(v=>v?!1:(k(!1),!0))},Je=()=>{k(v=>v?!1:(c(!1),!0))},en=()=>{h(!j)},nn=()=>{S(v=>v?!1:(C(!1),!0))},tn=()=>{C(v=>v?!1:(S(!1),!0))};return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"payment-modal-backdrop payment-modal-fade-in"}),e.jsx("div",{className:`modal payment-modal ${n?"payment-modal-fade-in":"payment-modal-fade-out"}`,id:"paymentModal",tabIndex:"-1","aria-labelledby":"paymentModalLabel","aria-hidden":!n,onClick:W,children:e.jsx("div",{className:"modal-dialog modal-center modal-lg",onClick:v=>v.stopPropagation(),children:e.jsxs("div",{className:"modal-content p-0",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title text-center",id:"paymentModalLabel",children:"Place Order"}),e.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:W})]}),e.jsxs("div",{className:"modal-body row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{className:"modal-title text-start mb-2",id:"paymentModalLabel",children:"Payment Information"}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{htmlFor:"nameInput",children:"Name"}),e.jsx("input",{id:"nameInput",name:"name",className:"form-control",value:a.name,onChange:d,placeholder:"Enter name"})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsxs("label",{htmlFor:"emailInput",children:["Email"," ",a.vatNumber||m||y?"":"(optional)"]}),e.jsx("input",{id:"emailInput",className:"form-control",name:"email",value:a.email,onChange:d,placeholder:"Enter email"})]}),r?e.jsx(Cn,{value:a.phone,onChange:v=>i(N=>({...N,phone:"+"+v}))}):"",e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{htmlFor:"vatInput",children:"VAT Number (optional)"}),e.jsx("input",{id:"vatInput",className:"form-control",name:"vatNumber",value:a.vatNumber,onChange:d,placeholder:"Enter VAT number"})]}),e.jsxs("div",{className:"form-group row mb-4",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"discountInput",children:"Payment Method"}),e.jsxs("select",{class:"form-select","aria-label":"Default select example",onChange:v=>i(N=>({...N,paymentMethod:v.target.value})),children:[e.jsx("option",{value:"Cash",selected:!0,children:"Cash"}),e.jsx("option",{value:"Card",children:"Card"})]})]}),a.paymentMethod==="Cash"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"amountToPay",children:"Amount to Pay"}),e.jsx("input",{id:"atp",className:"form-control",name:"atp",value:parseFloat(T).toFixed(2),readOnly:!0,disabled:!0})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"amountPaid",children:"Amount Paid"}),e.jsx("input",{id:"ap",className:"form-control",name:"ap",type:"number",value:g,onChange:v=>M(parseFloat(v.target.value))})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{htmlFor:"amountPaid",children:"Amount to Return"}),e.jsx("input",{id:"atr",className:"form-control",name:"atr",value:parseFloat(Ge).toFixed(2),readOnly:!0,disabled:!0})]})]}):""]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{class:"form-check-label",htmlFor:"ticket-check",children:"Ticket"}),e.jsxs("div",{class:"form-check",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",value:j,checked:j,onChange:en,id:"Withdraw"}),e.jsx("label",{class:"form-check-label",htmlFor:"Withdraw",children:"Withdraw"})]}),e.jsxs("div",{class:"form-check",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",value:r,checked:r,onChange:Ze,id:"sendToPhoneCheck"}),e.jsx("label",{class:"form-check-label",htmlFor:"sendToPhoneCheck",children:"Send to phone"})]}),e.jsxs("div",{class:"form-check",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",value:m,checked:m,onChange:Ye,id:"sendToMailCheck"}),e.jsx("label",{class:"form-check-label",htmlFor:"sendToMailCheck",children:"Send to mail"})]}),t.filter(v=>v.isTicket).length>0&&e.jsxs("div",{class:"form-check",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",value:x,checked:x,onChange:Je,id:"printTicketCheck"}),e.jsx("label",{class:"form-check-label",htmlFor:"printTicketCheck",children:"Physical QR Code"})]})]}),x&&e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{class:"form-check-label",htmlFor:"invoice-check",children:"Invoice"}),e.jsxs("div",{class:"form-check",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",value:y,checked:y,onChange:nn,id:"sendInvoiceToMailCheck"}),e.jsx("label",{class:"form-check-label",htmlFor:"sendInvoiceToMailCheck",children:"Send to mail"})]}),e.jsxs("div",{class:"form-check",children:[e.jsx("input",{class:"form-check-input",type:"checkbox",value:f,checked:f,onChange:tn,id:"printInvoiceCheck"}),e.jsx("label",{class:"form-check-label",htmlFor:"printInvoiceCheck",children:"Print Invoice"})]})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsx(ft,{discount:a.discount})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:W,children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:Ke,disabled:!a.name||(a.vatNumber||m||r||y?!(a.email||a.phone):!1)||oe||o,children:oe?"Processing...":"Proceed"})]})]})})})]})};function gt({children:n}){const[t,l]=u.useState(!1),o=()=>{l(!t)},s=h=>{h.preventDefault(),console.log("Logout clicked")},a=R(),i=F(h=>h.paymentModal.cartOpen),d=()=>{a(we(!0))},r=()=>a(we(!1)),p=F(h=>h.paymentModal.open),{pathname:m}=pn(),c=u.useMemo(()=>!["scanner","reports"].includes(m.split("/")[2]),[m]),j=u.useMemo(()=>!["scanner","reports"].includes(m.split("/")[2]),[m]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"dashboard_header",children:e.jsx("div",{className:"fluid_container",children:e.jsxs("div",{className:"header_row",children:[e.jsx("div",{className:"hamburger_menu",id:"hamburger_menu",onClick:o,children:t?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 329.26933 329",width:"512",height:"512",children:e.jsx("g",{children:e.jsx("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0",fill:"#000000"})})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"512",height:"512",children:e.jsx("g",{children:e.jsx("path",{clipRule:"evenodd",d:"m3 5c0-.26522.10536-.51957.29289-.70711.18754-.18753.44189-.29289.70711-.29289h12c.2652 0 .5196.10536.7071.29289.1875.18754.2929.44189.2929.70711s-.1054.51957-.2929.70711c-.1875.18753-.4419.29289-.7071.29289h-12c-.26522 0-.51957-.10536-.70711-.29289-.18753-.18754-.29289-.44189-.29289-.70711zm0 5c0-.26522.10536-.51957.29289-.70711.18754-.18753.44189-.29289.70711-.29289h6c.2652 0 .5196.10536.7071.29289.1875.18754.2929.44189.2929.70711 0 .2652-.1054.5196-.2929.7071s-.4419.2929-.7071.2929h-6c-.26522 0-.51957-.1054-.70711-.2929-.18753-.1875-.29289-.4419-.29289-.7071zm0 5c0-.2652.10536-.5196.29289-.7071.18754-.1875.44189-.2929.70711-.2929h12c.2652 0 .5196.1054.7071.2929s.2929.4419.2929.7071-.1054.5196-.2929.7071-.4419.2929-.7071.2929h-12c-.26522 0-.51957-.1054-.70711-.2929-.18753-.1875-.29289-.4419-.29289-.7071z",fill:"#000000",fillRule:"evenodd"})})})}),e.jsx("a",{href:"#",className:"logo",children:e.jsx("img",{style:{height:"70px",width:"100px",borderRadius:"10px"},src:xn,alt:"Logo"})})]})})}),e.jsx("div",{className:"dashboard_body",children:e.jsx("div",{className:"fluid_container",children:e.jsxs("div",{className:"dashboard_body_inner",children:[e.jsx("div",{className:`navigation ${t?"open":""}`,id:"navigation",children:e.jsx(vn,{})}),e.jsx("div",{className:"dashboard_content",children:e.jsxs("div",{className:"dashboard_content_inner",style:{marginBottom:"50px"},children:[c&&e.jsx(ut,{}),n,j&&e.jsx(wn,{onClick:d})]})})]})})}),e.jsx("form",{action:"/logout",method:"post",id:"logout-form",onSubmit:s,children:e.jsx("button",{type:"submit",children:"Logout"})}),e.jsx("div",{className:"menu_overlay",id:"menu_overlay"}),e.jsx(En,{}),e.jsx(ht,{}),e.jsx(dt,{open:i,onClose:r}),e.jsx(pt,{open:p})]})}export{gt as default};
